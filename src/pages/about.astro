---
// src/pages/about.astro
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";
import ContentSection from "../components/ContentSection.astro";
import headshot from "/assets/images/matt-birch-headshot.webp";
import myApproach from "/assets/images/approach-to-work.webp";
import whoIam from "/assets/images/who-i-am.webp";
import mattOnRocks from "/assets/images/matt_on_rocks.webp";
import passionateAbout from "/assets/images/my-passions-music-beach.webp";
import workWithMe from "/assets/images/teamwork.webp";

const pageTitle = "About Matt Birch | Full Stack Software Engineer";
const pageDescription =
  "Learn about Matt Birch, a Full Stack Software Engineer with a unique background in media and a passion for building AI-powered web and mobile applications.";
---

<Layout
  title={pageTitle}
  description={pageDescription}
  ogImage="/assets/images/about-matt-pointing.jpg"
  fullWidth={true}
>
  <Fragment slot="head">
    <link rel="preload" as="image" href={headshot.src} />
  </Fragment>
  <div class="horizontal-gradient-wrapper">
    <!-- Headshot -->
    <section class="py-12 md:py-20 lg:py-24 xl:py-32 text-center">
      <h1 class="h1-text text-center mb-8 md:mb-12">About Me</h1>
      <div class="pt-8 sm:pt-16 fade-in-up">
        <div
          class="inline-block rounded-full p-1 bg-gradient-to-r from-gray-300 to-gray-400 dark:from-gray-600 dark:to-gray-500 shadow-lg transition duration-300 ease-in-out hover:-translate-y-1 hover:shadow-xl"
          style="background-color: transparent;"
        >
          <div class="relative inline-block">
            <Image
              src={headshot}
              alt="Matt Birch headshot"
              class="w-32 h-32 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-full border-4 border-white dark:border-gray-800 shadow-inner"
              width={256}
              height={256}
              loading="eager"
            />
          </div>
        </div>
      </div>

      <!-- Introduction Text -->
      <div class="max-w-2xl mx-auto px-4">
        <p
          class="text-lg md:text-xl pt-8 md:pt-12 pb-4 leading-relaxed text-gray-700 dark:text-gray-300"
        >
          My journey into tech wasn't a straight line. I started my career in
          media&mdash;first, as a sportswriter. And, later as a media company
          owner. What pushed me to become a software engineer was a deep-seated
          love for learning and a passion for building things that solve real
          problems.
        </p>
        <p
          class="text-lg md:text-xl pb-8 leading-relaxed text-gray-700 dark:text-gray-300"
        >
          Today, I'm a Full Stack Engineer who gets to combine a writer's focus
          on clarity with an engineer's love for problem-solving.
        </p>

        <div class="mt-8">
          <a
            href="/src/uploads/matt-birch-resume.pdf"
            target="_blank"
            rel="noopener noreferrer"
            class="btn btn-primary rounded-full py-3 sm:py-4 px-6 text-base shadow-md transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <svg
              class="w-5 h-5 mr-2"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
              ><path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
              ></path></svg
            >
            Download My Resume
          </a>
        </div>
      </div>
    </section>

    <section class="fade-in-up">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <ContentSection
          title="My Building Philosophy"
          text={`For me, software is about more than just fulfilling requirements; it's about solving a puzzle for a real person. I start every project by diving deep into the 'why'—understanding the end-user and the problem we're aiming to solve. This user-first foundation is everything.

          From there, I focus on craftsmanship. I build with clean, scalable architecture and write code that's meant to be understood and maintained. I believe in open communication and a collaborative process, working iteratively to turn a great idea into a tangible, high-quality product.`}
          imageSrc={myApproach.src}
          imageAlt="A focused developer working on code at their desk"
        />

        <ContentSection
          title="Beyond The Code"
          text={`I'm a natural optimist with a relentless growth mindset, fascinated by the intersection of technology and the human experience. My journey into development was sparked by a simple idea: that the right digital tool can genuinely make someone's day better. That's the mission that drives me.

          When I'm not coding, you'll find me exploring trails or trying to perfect my pour-over coffee. These hobbies aren't just escapes; they're how I recharge my focus and creativity. It's this balance that allows me to approach complex technical challenges with a calm, human-centered perspective.`}
          imageSrc={whoIam.src}
          imageAlt="Matt Birch smiling and waving"
          reverse={true}
        />
      </div>
    </section>

    <!-- CTA Section -->

    <section
      id="cta-section"
      class="relative w-full bg-cover bg-center parallax"
      style={`background-image: url(${mattOnRocks.src});`}
    >
      {/* --- END OF FIX --- */}
      <!-- Dark Overlay -->
      <div class="absolute inset-0 bg-black opacity-70 dark:opacity-80"></div>

      <!-- Text and Button Container -->
      <div
        class="absolute inset-x-0 bottom-[60px] flex flex-col items-center justify-center z-10 px-4 transform -translate-y-1/2"
      >
        <h2
          id="reveal-text"
          class="text-gradient text-2xl sm:text-3xl md:text-4xl font-bold mb-4 sm:mb-6 md:mb-8"
        >
          You know where to find me.
        </h2>
        <a
          id="reveal-button"
          href="/contact"
          class="btn text-white bg-sky-700 rounded-full px-8 py-3 button-glow"
        >
          Let's Connect
        </a>
      </div>
    </section>

    <div class="horizontal-gradient-wrapper-2">
      <section class="pb-4 pt-12 md:pt-20 lg:pt-24 xl:pt-32">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <!-- What I'm Passionate About Section -->
          <ContentSection
            title="Passions & Perspective"
            text={`At my core, I'm driven by the idea that technology can be a powerful force for good. I'm passionate about building things that have a positive impact, and I'm constantly exploring the boundaries of what's possible with cutting-edge tech and AI.

            To stay sharp for these complex challenges, I rely on a few key things: vibing  music to find a state of flow, and a disciplined approach to fitness and nutrition to keep my mind clear. It’s this combination of purpose, passion, and preparation that I bring to every project.`}
            imageSrc={passionateAbout.src}
            imageAlt="Man sitting on a beach, focused and deep in thought"
          />

          <!-- What It's Like To Work With Me (reversed layout) -->
          <ContentSection
            title="Collaboration & Communication"
            text={`I believe great results come from great collaboration. You’ll find I’m a clear and consistent communicator who is responsive, proactive, and always ready to share insights and contribute to the discussion.

            My approach is simple: be an empathetic partner. Whether you're a team member, a stakeholder, or a client, I pride myself on being an honest, easygoing, and hard-working engineer that people genuinely enjoy building with.`}
            imageSrc={workWithMe.src}
            imageAlt="Collaborative workspace environment showing teamwork"
            reverse={true}
          />
        </div>
      </section>
    </div>

    <style>
      .horizontal-gradient-wrapper {
        background: linear-gradient(to bottom, #ffffff, #dde4ee);
      }
      .horizontal-gradient-wrapper-2 {
        background: linear-gradient(to bottom, #dde4ee, #ffffff);
      }
      :global(.dark) .horizontal-gradient-wrapper {
        background: linear-gradient(to bottom, #45617c, #1f2937);
      }

      :global(.dark) .horizontal-gradient-wrapper-2 {
        background: linear-gradient(to bottom, #1f2937, #45617c);
      }
      /* Text gradient overlay + glowing button shadow */
      .text-gradient {
        background: linear-gradient(to right, #00c6ff, #0072ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      .button-glow {
        box-shadow:
          0 0 15px rgba(0, 114, 255, 0.8),
          0 0 30px rgba(0, 114, 255, 0.4);
        transition: box-shadow 0.3s ease-in-out;
      }

      .button-glow:hover {
        box-shadow:
          0 0 35px rgba(0, 114, 255, 1.2),
          0 0 55px rgba(0, 114, 255, 0.7);
      }

      /* Parallax */
      .parallax {
        position: relative;
        background-attachment: fixed;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        height: 60vh;
        min-height: 300px;
      }

      .text-gradient {
        background: linear-gradient(to right, #00c6ff, #0072ff);
        -webkit-background-clip: text;
        background-clip: text;
        color: #0072ff; /* Fallback color */
        -webkit-text-fill-color: transparent;
        display: inline-block;
      }

      #reveal-text {
        opacity: 0;
        transform: translateY(20px);
        transition:
          opacity 0.8s ease-out,
          transform 0.8s ease-out;
        will-change: opacity, transform;
      }

      #reveal-text.reveal-visible {
        opacity: 1 !important;
        transform: translateY(0) !important;
      }
    </style>

    <script>
      function handleIntersection(
        entries: IntersectionObserverEntry[],
        observer: IntersectionObserver,
      ) {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const text = document.getElementById("reveal-text");
            const button = document.getElementById("reveal-button");
            if (text) {
              text.classList.add("reveal-visible");
            }
            if (button) {
              setTimeout(() => {
                button.classList.add("reveal-visible");
              }, 200);
            }
            observer.unobserve(entry.target);
          }
        });
      }

      const observer = new IntersectionObserver(handleIntersection, {
        threshold: 0.2,
      });

      const section = document.getElementById("cta-section");
      if (section) {
        observer.observe(section);
      }
    </script>
  </div></Layout
>
