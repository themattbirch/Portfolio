---
import type { CollectionEntry } from "astro:content";

interface Props {
  post: CollectionEntry<"posts">;
}

const { post } = Astro.props;
const shareUrl = new URL(Astro.url.pathname, Astro.site).toString();
---

<div
  class="share-container bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 sm:p-6 mt-6 sm:mt-8 text-center"
>
  <h2
    class="text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-gray-800 dark:text-gray-200"
  >
    Share this post
  </h2>
  <div class="flex justify-center space-x-2 sm:space-x-4">
    <a
      href={`https://twitter.com/intent/tweet?text=${encodeURIComponent(post.data.title)}&url=${shareUrl}`}
      target="_blank"
      rel="noopener noreferrer"
      class="share-button twitter"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="icon"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        ><path
          d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"
        ></path></svg
      >
      <span>Twitter</span>
    </a>
    <a
      href={`https://www.facebook.com/sharer/sharer.php?u=${shareUrl}`}
      target="_blank"
      rel="noopener noreferrer"
      class="share-button facebook"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="icon"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        ><path
          d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"
        ></path></svg
      >
      <span>Facebook</span>
    </a>
    <a
      href={`https://www.linkedin.com/shareArticle?mini=true&url=${shareUrl}&title=${encodeURIComponent(post.data.title)}`}
      target="_blank"
      rel="noopener noreferrer"
      class="share-button linkedin"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="icon"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        ><path
          d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"
        ></path><rect x="2" y="9" width="4" height="12"></rect><circle
          cx="4"
          cy="4"
          r="2"></circle></svg
      >
      <span>LinkedIn</span>
    </a>
  </div>
</div>

<style>
  .share-button {
    display: flex;
    align-items: center;
    padding: 0.375rem 0.75rem;
    border-radius: 9999px;
    transition: all 0.3s ease;
    font-weight: 500;
    font-size: 0.875rem;
  }

  @media (min-width: 640px) {
    .share-button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
    }
  }

  .share-button span {
    margin-left: 0.5rem;
  }

  .icon {
    width: 1.5rem;
    height: 1.5rem;
  }

  .twitter {
    background-color: #1da1f2;
    color: white;
  }

  .facebook {
    background-color: #4267b2;
    color: white;
  }

  .linkedin {
    background-color: #0077b5;
    color: white;
  }

  .share-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }
</style>
