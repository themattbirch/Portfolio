---
import Layout from "../layouts/Layout.astro";
import "../styles/indexstyles.css";
import Hero from "../components/Hero.astro";
import { Image } from "astro:assets";
import meHeroImg from "/assets/images/me-black-shirt-jeans.webp";
import lightBackgroundImage from "/assets/images/hero-background-light-theme-toggle.webp";
import darkBackgroundImage from "/assets/images/hero-background-dark-theme-toggle.webp";
import mobileBackgroundImage from "/assets/images/hero_background_mobile.webp";
import Testimonials from "../components/Testimonials.astro";
import SkillsSection from "../components/SkillsSection.jsx";
import CTASection from "../components/CTASection.astro";
import ServiceCard from "../components/ServiceCard.astro";
import QualityItem from "../components/QualityItem.astro";
import Section from "../components/Section.astro";

const services = [
  {
    title: "Custom Web Development",
    description:
      "Craft bespoke websites that combine clean code with exceptional user experience. I transform your vision into reality utilzizing modern web technologies and industry best practices.",
  },

  {
    title: "Results-Driven Copywriting",
    description:
      "Convert visitors into customers through strategic, compelling web content. I create clear, persuasive copy that drives engagement and achieves your business objectives.",
  },
  {
    title: "Responsive Design",
    description:
      "Deliver seamless experiences across all devices, from desktop to mobile. Your website will adapt beautifully to any screen size while maintaining optimal performance and functionality.",
  },
  {
    title: "Ongoing Support",
    description:
      "Protect your digital asset through proactive maintenance and timely updates. I ensure your website stays secure, fast, and aligned with the latest web standards.",
  },
];

const qualities = ["Reliable", "Multi-skilled", "Experienced", "Diligent"];
const half = Math.ceil(qualities.length / 2);
const leftQualities = qualities.slice(0, half);
const rightQualities = qualities.slice(half);
const pageTitle = "Matt Birch: Front-End Web Developer";
const pageDescription =
  "A creative front-end web developer dedicated to crafting engaging, user-centered digital experiences.";

const preloadLinks = [
  {
    href: lightBackgroundImage.src,
    as: "image", // Add the 'as' attribute
    media: "(min-width: 641px)",
    type: "image/webp", // Add the type attribute
  },
  {
    href: mobileBackgroundImage.src,
    as: "image",
    media: "(max-width: 640px)",
    type: "image/webp",
  },
];
---

<Layout
  title={pageTitle}
  description={pageDescription}
  ogImage="/assets/images/matt-birch-headshot.jpg"
  fullWidth={true}
>
  <!-- Hero Section -->
  <section>
    <Hero />
  </section>

<section
  class="bg-background-secondary dark:bg-background-dark transition-colors duration-300 pt-12 pb-12"
>
  <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Make columns match height with items-stretch -->
    <div class="flex flex-col lg:flex-row items-stretch gap-8">
      <!-- LEFT COLUMN: Headings, Text, Mobile Image, Service Cards -->
      <div class="w-full lg:w-2/3 xl:w-3/4 flex flex-col">
        <h2 class="h2-text text-center mb-6 sm:mb-8">
          What I Can Do for You
        </h2>
        <p class="mb-6 sm:mb-8 leading-relaxed">
          I help businesses accelerate growth through user-focused websites
          that deliver results. By combining technical expertise with
          conversion-focused copywriting and strong project management, I
          consistently deliver <span
            class="text-blue-700 dark:text-blue-300 italic"
            >on time</span
          >, up to modern standards.
        </p>

        <!-- Mobile Image and Text Box Container: Only visible on mobile -->
        <div class="lg:hidden relative flex flex-col mb-6 sm:mb-8 h-64">
          <!-- Mobile Image: Right-aligned -->
          <div class="flex justify-end">
            <Image
              src={meHeroImg}
              alt="Matt showcasing skills for clients"
              class="object-contain w-1/2 sm:w-1/3 md:w-1/4 h-auto"
              width={400}
              height={600}
              loading="lazy"
            />
          </div>
          
          <!-- Text Box: Positioned below hands, half width -->
          <div class="absolute top-24 left-0 w-1/2 bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border-0 dark:border dark:border-gray-600">
            <p class="leading-relaxed text-gray-900 dark:text-gray-100">
              Here's what I can do for you,
              <span class="text-blue-700 dark:text-blue-300 italic">today</span>:
            </p>
          </div>
        </div>
        
        <!-- Service Cards -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 sm:gap-8 flex-grow">
          {services.map((service) => (
            <ServiceCard
              title={service.title}
              description={service.description}
            />
          ))}
        </div>
      </div>
      <!-- RIGHT COLUMN: Desktop Image pinned to bottom of card container -->
      <div class="hidden lg:flex lg:w-1/3 xl:w-1/4 items-end">
        <div class="w-full mb-[-16px]">
          <Image
            src={meHeroImg}
            alt="Matt showcasing skills for clients"
            class="object-contain h-auto max-w-xs mx-auto"
            width={400}
            height={600}
            loading="lazy"
          />
        </div>
      </div>
    </div>
  </div>
</section>

  <!-- Testimonials Section -->
  <Section>
    <div class="testimonial-wrapper">
      <h2
        class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-center mx-auto mb-8 sm:mb-12 md:mb-20 lg:mb-24 xl:mb-32"
      >
        Ask My Clients About Projects I've Completed
      </h2>
      <Testimonials />
    </div>
  </Section>

  <!-- Unique Sales Proposition -->
  <section
    class="hidden lg:block pb-0 lg:pb-24 xl:pb-32 pt-4 sm:pt-6 md:pt-10
  lg:pt-12 xl:pt-16 max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 transition-colors
  duration-300"
  >
    <h2
      class="text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold text-center mb-6 sm:mb-8 md:mb-12 text-blue-950"
    >
      They know what separates me from other web developers:
    </h2>
    <div
      class="flex flex-col md:flex-row justify-between space-y-8 md:space-y-0 md:space-x-8"
    >
      <!-- Left column -->
      <ul class="list-disc space-y-4 w-full md:w-1/2 pl-6 md:pl-8">
        <li class="text-base sm:text-lg">
          Transform complex projects into polished deliverables, hitting
          deadlines through proactive communication and collaborative
          problem-solving.
        </li>
        <li class="text-base sm:text-lg">
          Blend technical expertise with business acumen to deliver solutions
          that drive real ROI for stakeholders.
        </li>
      </ul>

      <!-- Right column -->
      <ul class="list-disc space-y-4 w-full md:w-1/2 pl-6 md:pl-8">
        <li class="text-base sm:text-lg">
          Bridge the gap between user needs and business objectives, delivering
          web solutions that boost engagement and drive measurable results.
        </li>
        <li class="text-base sm:text-lg">
          Cross-functional expert with systems-thinking approach while remaining
          mindful of technical details.
        </li>
      </ul>
    </div>
  </section>

  <!-- Skills Section -->
  <Section class="bg-background-skills dark:bg-background-dark">
    <SkillsSection client:visible />
  </Section>

  <!-- CTA Section -->
  <Section>
    <h2 class="h2-text mb-10 text-center">What You See Is What You Get</h2>
    <div class="flex justify-center">
      <div
        class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-12 justify-items-center"
      >
        <ul class="space-y-6">
          {leftQualities.map((quality) => <QualityItem text={quality} />)}
        </ul>
        <ul class="space-y-6">
          {rightQualities.map((quality) => <QualityItem text={quality} />)}
        </ul>
      </div>
    </div>
    <div class="flex justify-center my-12">
      <div class="w-12 border-t-2 border-gray-300 dark:border-gray-600"></div>
    </div>
    <CTASection />
  </Section>
</Layout>
